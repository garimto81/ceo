# CLAUDE.md

This file provides guidance to Claude Code when working in this repository.

---

## 프로젝트 개요

CEO 보고서 작성 표준 프로젝트. **v2.0**: Canvas 원본에서 추출한 28개 패턴을 통합한 15개 섹션 규칙.

- **목적**: CEO 보고서 작성의 바이블
- **대상**: 보고서 작성자 (인간 + AI 에이전트)
- **핵심 문서**: `PRD-001-writing-standard.md` (v2.0 - 15개 섹션, 28개 패턴)
- **원본**: Canvas "0211_WSOP TV 외주 선정" (`canvas/raw.json`)

---

## 프로젝트 구조

```
ceo/
├── PRD-001-writing-standard.md     # v2.0 (15개 섹션, 28개 패턴)
├── CLAUDE.md
├── canvas/
│   ├── raw.json                    # Canvas HTML 원본
│   └── line-map.md                 # 줄번호-역할 매핑
├── templates/
│   ├── vendor-comparison.md        # 업체 비교 (v2.0)
│   └── investment-proposal.md      # 투자 제안 (NEW)
├── examples/
│   ├── vendor-selection.md         # WSOP TV 사례 (v2.0)
│   └── pattern-catalog.md          # 28개 패턴 실례 (NEW)
├── checklists/
│   ├── structural.md               # 구조 검증
│   ├── rhetorical.md               # 수사 검증
│   ├── formatting.md               # 포맷 검증
│   └── tone.md                     # 어투 검증
└── validation/
    ├── rules.json                  # 자동 검증 규칙
    └── prompt-template.md          # AI 검증 프롬프트
```

| 파일 | 역할 |
|------|------|
| `PRD-001-writing-standard.md` | 15개 섹션 전체 규칙 (v2.0) |
| `templates/vendor-comparison.md` | 업체 비교 템플릿 (HTML 주석 가이드) |
| `templates/investment-proposal.md` | 투자 제안 템플릿 (확장) |
| `examples/vendor-selection.md` | WSOP TV 사례 분석 |
| `examples/pattern-catalog.md` | 28개 패턴 카탈로그 |
| `canvas/line-map.md` | Canvas 줄번호-패턴 매핑 |
| `checklists/*.md` | 4영역 검증 체크리스트 (38개 항목) |

---

## 작성 워크플로우

### Phase 1: 준비
1. `PRD-001-writing-standard.md` 전체 읽기
2. PRD-001 Section 10 "작성 전 체크리스트" 확인 (10개 항목)
3. `templates/` 선택 (vendor-comparison 또는 investment-proposal)

### Phase 2: Draft
4. 템플릿 복사 후 구조 잡기 (H1, 핵심 팩트, 개략 금액)
5. HTML 주석(`<!-- 가이드: -->`) 참조하며 내용 채우기

### Phase 3: Polish
6. 볼드 추가 (업체명, 금액, 선택지 헤더, 핵심 판단)
7. 테이블 헤더에 과금 유형 병기
8. 조건 상세화 (괄호 안 조건, 과금 유형)
9. H2 세분화 (H1당 최대 3개)
10. 이미지 삽입 (주장-증거-해석 3단)
11. 여백 조정 (3단계 시스템)

### Phase 4: 검증
12. `checklists/` 4영역 체크 (38개 항목: 22 AUTO + 16 MANUAL)
    - structural.md (구조 검증)
    - rhetorical.md (수사 검증)
    - formatting.md (포맷 검증)
    - tone.md (어투 검증)
13. 위반 항목 수정 후 재검증

---

## 핵심 규칙 요약

상세 규칙은 `PRD-001-writing-standard.md` 참조. 아래는 AI가 자주 위반하는 핵심만 추린 요약.

### 구조 (섹션 2)

- **5단계**: 제외 사유 선행 → 과정 요약 → 핵심 비교(H2 세분화) → 중간 정리(조건별 선택지) → 의견
- H1 최대 3개, H2는 H1당 최대 3개
- 팩트 70%, 의견 30%. 의견은 `**의견**` 헤더로 분리
- **여백 3단계**: H1/H2 전후 (대전환), 이중 여백 (소주제 전환), 단일 여백 (문단 호흡)

### 수사 (섹션 3-4)

- **3단 반전**: `[표면 인상] → "하지만" → [심층] → "결국" → [수렴]`
- **Pivot 문장**: 서술 방향을 완전히 전환하는 핵심 문장 (섹션당 1회)
- **양보-회수**: 반대 선택지 허용 후 조건절로 회수하여 추천 강화
- 비유는 도입부에 한 번만, 한국 독자 친화적 대상으로
- 종결어미: 사실(`~했습니다`), 추정 직접(`~보입니다`), 추정 추론(`~것으로 보입니다`), 판단(`~판단됩니다`), 조건(`~라면`), 허용(`~해도 됩니다`)
- **점층법**: 문서 전반부(사실) → 중반(추정) → 후반(판단) 순으로 배치

### 포맷 (섹션 6)

- 금액: `$ 750,000` (달러 뒤 공백 1칸, 한화 금지, 괄호로 조건 병기)
  - 불확실 수치: 괄호 안에 후속 약속 병기 (예: `$ 750,000 (이 부분은 좀 더 계산해보겠습니다)`)
- 볼드: 업체명, 금액, 선택지 헤더, **핵심 판단 문장**. 한 문장 내 1회만
- 테이블: 숫자 비교에만 사용, 최대 3행x3열. 기능 비교는 불릿
  - 헤더에 과금 유형 병기: `Brightcove (Traffic 과금형)`
  - 다줄 행 항목: 항목명 + 괄호 부연은 셀 내 별도 줄
- 불릿: 기능 나열은 명사형, 선택 조건은 해체(`~다`). 합쇼체 금지
  - **나열-부정 클로징**: 기능 나열의 마지막 불릿은 `~안됨`으로 한계 명시
  - **불릿 비대칭**: 기능 나열은 대칭(7:7), 선택 조건은 비대칭 허용 (비추천 선택지에 조건 많이 배치)
- 이미지: **주장-증거-해석** 3단 구조. 비추천 선택지에 더 많은 이미지 (한계 시각화)

### 어투 (섹션 7)

- 1인칭 금지, 주어 생략 기본
- "우리" 3회 이하, "하지만" 3회 이하, "결국" 3회 이하 (접속사 2회 + 문장내 부사 1회), "다만" 1회
- 문어체 접속사("그러나", "그렇지만") 금지 → "하지만" 사용
- 기술 용어는 영어 원문(`CDN`, `API`), 비즈니스 용어는 한글(`견적`, `운영비`)
- **문장 길이 수사**: 복잡한 분석은 장문(~130자), 핵심 판단은 단문(~25자)

### 절대 금지 (섹션 9)

`한글(영문)` 병기, 이모지, Pros/Cons 테이블, 점수/별점, "결론"/"최종 추천" 헤더, **페이지 하단 각주** (인라인 링크는 허용), "감사합니다", "다음으로"/"이어서" 전환 문구, 목차(A4 3매 이하), **순서 없는 항목에 번호 매기기** (핵심 대비 2항목은 1, 2 허용), 불확실한 사항의 확정적 서술

**v2.0 수정 3건**:
- "같은 수의 불릿으로 균형" → **기능 대칭, 선택 비대칭 허용**
- "번호 매기기 금지" → **순서 없는 항목에 한해 금지**
- "각주, 참조 링크 금지" → **페이지 하단 각주 금지, 인라인 링크 허용**

---

## v2.0 신규 섹션 (PRD-001)

| 섹션 | 내용 |
|------|------|
| **12. 작성 프로세스** | Draft-Polish 2단계 워크플로우 |
| **13. 여백 및 시각 리듬** | 여백 3단계 시스템, 핵심 대비 위치 규칙 |
| **14. 미시 수사 장치** | 설득 아크 7단계, 재귀적 의견 구조, 인라인 첨부 증거 |
| **15. 원본 참조** | Canvas 원본 정보 |

---

## 검증 체크리스트 (38개 항목)

`checklists/` 디렉토리에서 4영역 검증:

| 영역 | 파일 | 항목 수 | 검증 유형 |
|------|------|---------|----------|
| 구조 | `structural.md` | 6 | 4 AUTO + 2 MANUAL |
| 수사 | `rhetorical.md` | 14 | 5 AUTO + 9 MANUAL |
| 포맷 | `formatting.md` | 15 | 11 AUTO + 4 MANUAL |
| 어투 | `tone.md` | 3 | 2 AUTO + 1 MANUAL |
| **합계** | - | **38** | **22 AUTO + 16 MANUAL** |

상세 검증 방법: `validation/prompt-template.md` 참조

---

## 참조 문서

| 문서 | 용도 |
|------|------|
| `PRD-001-writing-standard.md` | 15개 섹션 전체 규칙 (v2.0) |
| `canvas/line-map.md` | Canvas 줄번호-패턴 매핑 (28개 패턴 근거) |
| `examples/pattern-catalog.md` | 28개 패턴 실례 카탈로그 |
| `checklists/*.md` | 4영역 검증 체크리스트 (38개 항목) |
| `validation/prompt-template.md` | AI 검증 프롬프트 템플릿 |
